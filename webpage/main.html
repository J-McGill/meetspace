<html>

<script type="application/javascript">
function loadCity(country) {
	var file = "/script/country/" + country + "/cities.js";
    var script = document.createElement("script");
    script.type = "application/javascript";
    script.src = file;
    document.body.appendChild(script);
	
	script.onload = function () {
		var select = document.getElementById("city");
		
		while (select.firstChild) {
			select.removeChild(select.firstChild);
		}		
		
		for(var i = 0; i < cities.length; i+=2) {
			var option = document.createElement('option');
			option.text = cities[i];
			option.value = cities[i+1];
			select.appendChild(option, 0);
		}		
	};	
}
</script>

<script type="application/javascript">
window.onload = function() {
	var countries = ["New Zealand", "nz", 
					 "Wales", "wales"];
	
    var select = document.getElementById("country");
	
    for(var i = 0; i < countries.length; i+=2) {
        var option = document.createElement('option');
        option.text = countries[i];
		option.value = countries[i+1];
        select.appendChild(option, 0);
    }
}
</script>

<script type="application/javascript">
function getCities() {
	var combobox = document.getElementById("country");
	 
	loadCity(combobox.value);
}
</script>


<body>
<h1>Meet Space!</h1>
A place to meet people in the real world.<br>
<br>
Whats happening in your area:<br>
<br>
Country:
 <select id="country" onchange="getCities()">
</select>

City
 <select id="city">
  <option>-----</option>
</select> 

<script>
getCities();
</script>

</body>
</html>